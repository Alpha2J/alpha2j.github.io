<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaScript基础 | 杰布是谁</title><meta name="author" content="Jeb"><meta name="copyright" content="Jeb"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、语言基础1.1 语法1.1.1 变量JavaScript的变量是松散类型的, 也就是说同一个变量可以存储不同数据类型的值(且可在运行期动态改变). 它不像Java等强变量类型语言, 特定数据类型的变量只能存储特定数据类型的值. 变量的声明使用var关键字(ES6中新增了let和const, 应该避免继续使用var). 123456789&#x2F;&#x2F; 变量声明关键字为: let, const, var&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript基础">
<meta property="og:url" content="https://alpha2j.cn/2020/07/17/undefined/index.html">
<meta property="og:site_name" content="杰布是谁">
<meta property="og:description" content="一、语言基础1.1 语法1.1.1 变量JavaScript的变量是松散类型的, 也就是说同一个变量可以存储不同数据类型的值(且可在运行期动态改变). 它不像Java等强变量类型语言, 特定数据类型的变量只能存储特定数据类型的值. 变量的声明使用var关键字(ES6中新增了let和const, 应该避免继续使用var). 123456789&#x2F;&#x2F; 变量声明关键字为: let, const, var&#x2F;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://alpha2j.cn/assets/blog_avatar.jpeg">
<meta property="article:published_time" content="2020-07-17T16:00:00.000Z">
<meta property="article:modified_time" content="2025-09-24T14:41:07.236Z">
<meta property="article:author" content="Jeb">
<meta property="article:tag" content="notes">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://alpha2j.cn/assets/blog_avatar.jpeg"><link rel="shortcut icon" href="/assets/favicon.png"><link rel="canonical" href="https://alpha2j.cn/2020/07/17/undefined/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Jeb","link":"链接: ","source":"来源: 杰布是谁","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-09-24 22:41:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = 'hidden';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}

preloader.initLoading()
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/assets/blog_avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-hashtag"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-layer-group"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-graduate"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="/about_en/"><i class="fa-fw fas fa-user-astronaut"></i><span> About Me</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/assets/default_top_img.png')"><nav id="nav"><span id="blog-info"><a href="/" title="杰布是谁"><span class="site-name">杰布是谁</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-user"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-hashtag"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-layer-group"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-graduate"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page" href="/about_en/"><i class="fa-fw fas fa-user-astronaut"></i><span> About Me</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2020-07-17T16:00:00.000Z" title="发表于 2020-07-18 00:00:00">2020-07-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/technology/">technology</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">10.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>39分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript基础"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、语言基础"><a href="#一、语言基础" class="headerlink" title="一、语言基础"></a>一、语言基础</h1><h2 id="1-1-语法"><a href="#1-1-语法" class="headerlink" title="1.1 语法"></a>1.1 语法</h2><h3 id="1-1-1-变量"><a href="#1-1-1-变量" class="headerlink" title="1.1.1 变量"></a>1.1.1 变量</h3><p>JavaScript的变量是松散类型的, 也就是说同一个变量可以存储不同数据类型的值(且可在运行期动态改变). 它不像Java等强变量类型语言, 特定数据类型的变量只能存储特定数据类型的值. 变量的声明使用<code>var</code>关键字(ES6中新增了<code>let</code>和<code>const</code>, 应该避免继续使用<code>var</code>).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量声明关键字为: let, const, var</span></span><br><span class="line"><span class="comment">// let i = 10;</span></span><br><span class="line"><span class="comment">// const i = 10;</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同一个变量可以存储不同数据类型的值</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;Hello world&#x27;</span>;</span><br><span class="line"><span class="comment">// 在运行期动态改变变量值的数据类型: 数据类型由Number变为String</span></span><br><span class="line">i = <span class="string">&#x27;i changed to str&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="1-1-2-数据类型"><a href="#1-1-2-数据类型" class="headerlink" title="1.1.2 数据类型"></a>1.1.2 数据类型</h3><p>JavaScript中共有6种数据类型: <code>Undefined</code>, <code>Null</code>, <code>Boolean</code>, <code>Number</code>, <code>String</code>, <code>Object</code>.</p>
<ul>
<li><code>Undefined</code>: 只有一个值: <code>undefined</code>.</li>
<li><code>Null</code>: 只有一个值<code>null</code>: <code>let v = null;</code></li>
<li><code>Boolean</code></li>
<li><code>Number</code>: 整数和浮点数</li>
<li><code>String</code></li>
<li><code>Object</code></li>
</ul>
<h3 id="1-1-3-操作符"><a href="#1-1-3-操作符" class="headerlink" title="1.1.3 操作符"></a>1.1.3 操作符</h3><p>开发语言中的操作符大都是差不多的, 如自增操作符(<code>++i</code>, <code>i++</code>), 自减操作符(<code>--i</code>, <code>i--</code>), 布尔操作符(<code>!true</code>, <code>!false</code>, <code>let result = true &amp;&amp; false</code>, <code>let result = false || true</code>), 乘性操作符(<code>let result = a * b</code>, <code>let result = a / b</code>, <code>let result = a % b</code>), 加性操作符(<code>let result = a + b</code>, <code>let result = a - b</code>), 关系操作符(<code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>), 相等操作符(<code>==</code>, <code>!=</code>, <code>===</code>, <code>!==</code>), 条件操作符(<code>let result = boolean_expression ? true_value : false_value</code>), 赋值操作符(<code>let num = 10</code>).</p>
<p>对于操作符, 需要注意的点有:</p>
<ul>
<li><p>相等操作符<code>==</code>和<code>===</code>的区别: 前者在比较的时候会进行类型转换, 比如<code>let result = (&#39;10&#39; == 10);</code>的值是<code>true</code>, 但是将<code>==</code>换成<code>===</code>的话结果就为<code>false</code>了. 自动类型转换可能会带来很多隐藏问题, 所以在开发的时候一般避免使用<code>==</code>操作符.</p>
</li>
<li><p>逻辑非操作符<code>!</code>可作用于任意数据类型: 在Java中, 逻辑非操作符<code>!</code>只能用于布尔类型, 但是JavaScript中它可以用于任意数据类型. <strong>当它作用于空字符串, 0, null, undefined, false</strong>这些表示”没有”的意思的表达式的时候都会返回<code>true</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以下所有输出结果都是true</span></span><br><span class="line"><span class="keyword">let</span> withStr = !<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(withStr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> withZero = !<span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(withZero);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> withNull = !<span class="literal">null</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(withNull);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> withUndefined = !<span class="literal">undefined</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(withUndefined);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> withFalse = !<span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(withFalse);</span><br></pre></td></tr></table></figure>
</li>
<li><p>逻辑与操作符<code>&amp;&amp;</code>和逻辑或操作符<code>||</code>可作用于任意数据类型: 在Java中他们仅用于布尔类型之间的操作, 但是在JavaScript中却能用在不同数据类型之间, 且这些隐藏用法在写React的时候非常有用, 具体内容在2.1中描述.</p>
</li>
</ul>
<h3 id="1-1-4-语句"><a href="#1-1-4-语句" class="headerlink" title="1.1.4 语句"></a>1.1.4 语句</h3><ul>
<li><p><code>if</code>语句: <code>if (condition) &#123;...&#125;</code>. 需要注意的是这里的<code>condition</code>可以是任何表达式, 只要不是表示”没有”的, 那么这个条件都成立. JavaScript中表示”没有”的有: <code>空字符串</code>, <code>0</code>, <code>null</code>, <code>undefined</code>, <code>false</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下面所有语句执行都没有输出</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;&quot;</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">null</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">undefined</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>while</code>语句: <code>while(true) &#123; ... &#125;</code></p>
</li>
<li><p><code>for</code>语句: <code>for (let i = 0; i &lt; arr.length; i++) &#123; ... &#125;</code></p>
</li>
<li><p><code>for-in</code>语句: <code>for (let pro in obj) &#123;...&#125;</code></p>
</li>
<li><p><code>for-of</code>语句:  <code>for (let pro of obj) &#123;...&#125;</code></p>
</li>
<li><p><code>switch</code>语句</p>
</li>
</ul>
<h2 id="1-2-数组"><a href="#1-2-数组" class="headerlink" title="1.2 数组"></a>1.2 数组</h2><p>JavaScript中数组和常规开发语言中的数组定义是一样的, 但是需要注意:</p>
<ul>
<li><p>数组属于JavaScript基本数据类型中的对象类型(<code>Object</code>, 它的键名是依次排序的整数<code>0, 1, 2</code>), 使用<code>typeof</code>运算符返回的是<code>object</code>.</p>
</li>
<li><p>数组的<code>length</code>属性返回的是<code>最大的键名+1</code>.</p>
</li>
<li><p><strong><code>length</code>属性是可写的, 可以通过手动设置数组的<code>length</code>属性来改变数组的大小. 如设置<code>arr.length=0</code>来清空数组</strong>.</p>
</li>
<li><p>由于JavaScript中变量是松散类型的, 因此数组中元素之间的数据类型可以不同.</p>
</li>
<li><p><strong>如果数组中两个逗号之间没有值, 则我们称这个位置为空位</strong>.</p>
<ul>
<li>使用<code>delete</code>命令删除一个元素, 那么被删除元素的位置就形成了空位.</li>
<li>读取空位的值返回<code>undefined</code></li>
<li>空位不影响数组的<code>length</code>属性.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typeof 运算符输出object</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以手动改变length的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>);</span><br><span class="line">arr.<span class="property">length</span> = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 将length属性设置为4, 删除了最后一个元素, 现在数组变成了[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素之间数据类型可以不同</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// [1, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用delete删除一个元素, 这个元素的位置成了空位</span></span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">1</span>];</span><br><span class="line"><span class="comment">// [ 1, &lt;1 empty item&gt;, &#x27;c&#x27;, &#x27;d&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"><span class="comment">// 访问空位输出undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">1</span>]);</span><br><span class="line"><span class="comment">// 空位不影响数组的length属性, 还是输出4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-3-函数"><a href="#1-3-函数" class="headerlink" title="1.3 函数"></a>1.3 函数</h2><ul>
<li><p>JavaScript中函数也是一个对象, 他是<code>Function</code>类型的实例. 函数名是一个引用类型的变量, 它指向这个函数对象(如果是匿名函数那么指向这个函数的变量其实就是指向这个对象).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//标识符func是一个变量(也是这个函数的名字), 他指向代表这个函数的对象.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用匿名函数也一样, 变量func1 指向这个函数对象.</span></span><br><span class="line"><span class="keyword">let</span> func1 = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对于一个函数, 可以认为它存在以下三种角色:</p>
<ul>
<li>对象角色: 当作为对象角色的时候, 因为他是<code>Function</code>类型的实例, 所以可以直接调用<code>Function.prototype</code>上面定义的方法.</li>
<li>函数角色: 当作为函数角色的时候, 可以在后面加上小括号, 表示执行这个函数.</li>
<li>构造器角色: 当作为构造器角色的时候, 我们可以在前面加上<code>new</code>运算符, 从而生成一个对象.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 作为对象角色, Student这个标识符是变量标识符, 指向一个函数对象, 这里调用这个函数对象的name属性, 他是从Function中继承来的.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Student</span>.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接执行这个函数, 作为函数角色, 为this.name赋值, 打印&#x27;jeb&#x27;, 没有任何返回值.</span></span><br><span class="line"><span class="comment">// 在这种情况下, this的指向就是复杂问题了, 看第七章. 在这里的话指向的是window对象.</span></span><br><span class="line"><span class="title class_">Student</span>(<span class="string">&#x27;jeb&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用new操作符, 作为构造器角色使用, 生成一个新的对象, 为this.name赋值, 打印this.name 返回新生成的那个对象.</span></span><br><span class="line"><span class="comment">// 在这种情况下, 函数里面的this指向的是新生成的那个对象.</span></span><br><span class="line"><span class="keyword">let</span> jeb = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;jeb&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>JavaScript中使用<code>function</code>来声明函数且函数不能进行重载.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// num1和num2前面不能写变量声明关键字 如 var num1, var num2</span></span><br><span class="line"><span class="comment">// 语法上不需要声明这个函数是否有返回值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不存在重载</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;func without args.&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;func with arg, num is: &#x27;</span>, num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 由于不存在重载, 后面定义的同名函数会覆盖前面定义的同名函数, 因此这里实际调用的都是后面定义的函数</span></span><br><span class="line"><span class="comment">// func with arg, num is:  undefined</span></span><br><span class="line"><span class="comment">// func with arg, num is:  1</span></span><br><span class="line"><span class="title function_">func</span>();</span><br><span class="line"><span class="title function_">func</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>函数的作用域和变量一样, 是声明时所在的作用域</strong>, 与运行时所在的作用域无关.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logA</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logB</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">logA</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="title function_">logB</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="1-4-对象"><a href="#1-4-对象" class="headerlink" title="1.4 对象"></a>1.4 对象</h2><h3 id="1-4-1-对象的构造"><a href="#1-4-1-对象的构造" class="headerlink" title="1.4.1 对象的构造"></a>1.4.1 对象的构造</h3><p>JavaScript中对象是<code>Object</code>类型的实例. 数组是对象, 函数也是对象. 生成对象的方式一般有如下几种:</p>
<ul>
<li>字面量对象.</li>
<li>构造函数.</li>
<li><code>Object()</code>构造函数.</li>
<li>ES6中的class.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字面量对象</span></span><br><span class="line"><span class="keyword">let</span> jeb = &#123;</span><br><span class="line">    <span class="attr">no</span>: <span class="string">&#x27;15230995030&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">22</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">sayHello</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello world!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">no, name, age</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">no</span> = no;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHello</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello world!&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> alpha = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;15230995031&#x27;</span>, <span class="string">&#x27;alpha&#x27;</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Object构造函数, 前面1.3函数一节说过当一个函数作为构造函数角色的时候会返回一个对象.</span></span><br><span class="line"><span class="comment">// 因此这里由Object函数充当构造函数角色返回了一个自身没有任何属性的对象.</span></span><br><span class="line"><span class="keyword">let</span> alpha2j = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">alpha2j.<span class="property">no</span> = <span class="string">&#x27;Hello world!&#x27;</span>;</span><br><span class="line">alpha2j.<span class="property">name</span> = <span class="string">&#x27;alpha2j&#x27;</span>;</span><br><span class="line">alpha2j.<span class="property">age</span> = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用class对类结构进行定义, 然后new这个类的实例. 在ES6.md里面描述, 这里不重复了.</span></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h3 id="1-4-2-对象的访问"><a href="#1-4-2-对象的访问" class="headerlink" title="1.4.2 对象的访问"></a>1.4.2 对象的访问</h3><p>可以通过两种不同的方式对对象进行访问:</p>
<ul>
<li>对象.属性名: <code>let name = jeb.name;</code>.</li>
<li>对象[属性名]<strong>(如果属性名是数字的话, 可以直接输入这个数字, 而不用输入这个数字的字符串(这正是数组对象的获取方式: <code>arr[index]</code>). 需要重视这种实际开发中非常有用的语法. 如我们可以根据外界的输入来获取某个对象的属性值, 如果用点号是没有办法获取的)</strong>:<ul>
<li>字符串的属性名: <code>let name = jeb[&#39;name&#39;];</code></li>
<li>数字的属性名: <code>let element = arr[1];</code></li>
</ul>
</li>
</ul>
<p>查看对象所有属性的方式: 使用<code>Object.keys</code>方法.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// [ &#x27;name&#x27;, &#x27;age&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(person));</span><br></pre></td></tr></table></figure>



<p>删除对象属性的方式: 使用<code>delete</code>命令, 属性删除成功之后会返回<code>true</code>. 如果删除一个不存在的属性, JavaScript不会报错, 而是返回true.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> deleteResult = <span class="keyword">delete</span> person.<span class="property">name</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;deleteResult.name&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// name属性已经不存在, 这里不会报错, 会返回true.</span></span><br><span class="line">deleteResult = <span class="keyword">delete</span> person.<span class="property">name</span>;</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;deleteResult&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>



<p>操作对象的属性: JavaScript提供了属性描述对象, 可以通过<code>Object</code>提供的一些方法和这个属性描述对象, 对一个对象的属性进行操作. <a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/stdlib/attributes.html">详情链接</a>.</p>
<h2 id="1-5-其他"><a href="#1-5-其他" class="headerlink" title="1.5 其他"></a>1.5 其他</h2><h3 id="1-5-1-变量提升"><a href="#1-5-1-变量提升" class="headerlink" title="1.5.1 变量提升"></a>1.5.1 变量提升</h3><p>​	JavaScript引擎在工作的时候, 会先获取所有被声明的变量, 然后再一行一行地执行. 因此, 所有变量的声明语句都会被提升到代码的头部, 这就叫做变量提升. 由于变量提升的存在, 某些情况下可能代码可以正常运行而不会报错:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 由于变量提升的存在, 下面的代码不会报错.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量提升后的代码</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 因此控制台得到的输出是undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="1-5-2-箭头函数"><a href="#1-5-2-箭头函数" class="headerlink" title="1.5.2 箭头函数"></a>1.5.2 箭头函数</h2><p>箭头函数本身没有<code>this</code>变量, 箭头函数的<code>this</code>都是指向定义它的时候外部函数的<code>this</code>.</p>
<h1 id="二、易混淆知识点"><a href="#二、易混淆知识点" class="headerlink" title="二、易混淆知识点"></a>二、易混淆知识点</h1><h2 id="2-1-amp-amp-和"><a href="#2-1-amp-amp-和" class="headerlink" title="2.1 &amp;&amp;和||"></a>2.1 &amp;&amp;和||</h2><p>​	在<code>java</code>中, 逻辑与<code>&amp;&amp;</code>和逻辑或<code>||</code>只能用于布尔类型操作数, 且只会返回<code>true</code>或者<code>false</code>. 但是JavaScript中他们是<strong>可以用于任何类型的操作数</strong>的, 在有一个操作数不是布尔类型的时候返回值就不一定是布尔类型. <strong>在有一个操作数不是布尔类型的情况下</strong>, 他们遵循如下规则:</p>
<ul>
<li><p><code>&amp;&amp;</code>:</p>
<ul>
<li>如果有一个操作数是表示”没有”的(空字符串, 0, <code>null</code>, <code>undefined</code>), 那么返回这个操作数.</li>
<li>如果两个操作数都不是表示没有的(空字符串, 0, <code>null</code>, <code>undefined</code>), 返回第二个操作数.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有一个表示 &quot;没有&quot; 的操作数, 则返回这个操作数.</span></span><br><span class="line"><span class="comment">// 分别返回空串, 0, undefined, null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span> &amp;&amp; &#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> &amp;&amp; &#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; &amp;&amp; <span class="literal">undefined</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; &amp;&amp; <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 两个操作数都表示 &quot;有&quot;, 返回后面那个操作数.</span></span><br><span class="line"><span class="comment">// &#123;name: &#x27;jeb&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> &amp;&amp; &#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; &amp;&amp; <span class="number">1</span>);</span><br><span class="line"><span class="comment">// &#123;age: 22&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; &amp;&amp; &#123;<span class="attr">age</span>: <span class="number">22</span>&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>||</code>:</p>
<ul>
<li>如果两个操作数都是表示”没有”的, 那么返回第二个表示没有的操作数.</li>
<li>返回第一个表示”有”的操作数.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两个操作数都表示 &quot;没有&quot; , 返回第二个表示 &quot;没有&quot; 的操作数</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> || <span class="literal">undefined</span>);</span><br><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span> || <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回第一个表示 &quot;有&quot; 的操作数</span></span><br><span class="line"><span class="comment">// &#123;name: &#x27;jeb&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span> || &#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// &#123;name: &#x27;jeb&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> || &#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;);</span><br><span class="line"><span class="comment">// name: &#x27;jeb&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; || <span class="literal">undefined</span>);</span><br><span class="line"><span class="comment">// &#123;name: &#x27;jeb&#x27;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125; || <span class="literal">null</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-2-undefined和null"><a href="#2-2-undefined和null" class="headerlink" title="2.2 undefined和null"></a>2.2 undefined和null</h2><p><code>undefined</code>和<code>null</code>都是JavaScript的基本数据类型, 它们之间的区别如下:</p>
<ul>
<li><p><code>undefined</code>: 声明一个变量但是没有给它赋过任何值, 或者使用了一个对象上不存在的属性, 这时候都返回<code>undefined</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 仅仅声明了但是没有赋值</span></span><br><span class="line"><span class="keyword">let</span> justDeclare;</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(justDeclare);</span><br><span class="line"></span><br><span class="line"><span class="comment">// obj上根本没有name属性, 所以也是undefined</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>null</code>: 显式地为变量赋值<code>null</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将变量显式赋值为null</span></span><br><span class="line"><span class="keyword">let</span> assignToNull = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(assignToNull);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-3-typeof和instanceof"><a href="#2-3-typeof和instanceof" class="headerlink" title="2.3 typeof和instanceof"></a>2.3 typeof和instanceof</h2><h3 id="2-3-1-typeof"><a href="#2-3-1-typeof" class="headerlink" title="2.3.1 typeof"></a>2.3.1 typeof</h3><p>如果要执行的某些操作需要限定变量的数据类型, 这时我们需要能够知道变量数据类型的能力:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设定义这个函数的目的是: 我要求两个整型数字相加的结果</span></span><br><span class="line"><span class="comment">// 在Java中可能是这样, 我们可以提供参数类型, 让编译器帮我们检查</span></span><br><span class="line"><span class="comment">// public int add(int num1, int num2) &#123;</span></span><br><span class="line"><span class="comment">//     return num1 + num2;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="comment">// 编译器不会帮我们检查, 我们得有种确保num1和num2两个变量里面存的数据的类型是整型的机制</span></span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 由于JavaScript的松散类型变量, 我们在调用的时候传入了非数字,</span></span><br><span class="line"><span class="comment">// 因此尽管 &#x27;+&#x27; 运算符的类型转换这里不会报错, 但是明显它没有正确地使用这个函数,</span></span><br><span class="line"><span class="comment">// 得出的结果可能也不会如意.</span></span><br><span class="line"><span class="title function_">add</span>(<span class="literal">true</span>, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>



<p>上面的例子中, 假如存在一种机制来对传入变量的数据类型进行合法性判断: 符合条件的处理, 不符合条件的拒绝处理, 那么函数的调用者就没办法以不合法的目的来使用这个函数了. <code>typeof</code>运算符就是负责提供一个变量的数据类型的: <code>let varType = typeof variable</code>. <code>typeof</code>的返回值有如下几种:</p>
<ul>
<li><code>undefinded</code>: <code>undefined</code>变量.</li>
<li><code>boolean</code>: 布尔类型变量.</li>
<li><code>string</code>: 字符串类型变量.</li>
<li><code>number</code>: 数字类型变量.</li>
<li><code>object</code>: 对象类型变量. 普通对象, 数组, <code>null</code>等.</li>
<li><code>function</code>: 虽然函数属于基本数据类型中的对象, 但是与<code>typeof</code>一起使用时返回值为<code>function</code>, 而不是<code>object</code>.</li>
</ul>
<h3 id="2-3-2-instanceof"><a href="#2-3-2-instanceof" class="headerlink" title="2.3.2 instanceof"></a>2.3.2 instanceof</h3><p><code>instanceof</code>主要是用来判断左边对象是否为右边构造函数的实例. 他的原理是检查能否在左边对象的原型链上找到右边构造函数的<code>prototype</code>属性.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Person</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> alpha = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="comment">// alpha刚被new出来, 他有一个内部指针指向Person.prototype, 所以Person.prototype是存在于alpha的原型链上的</span></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(alpha <span class="keyword">instanceof</span> <span class="title class_">Person</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里手动改变Person.prototype后, &#123;&#125; 并不在alpha对象的原型链上, 所以这里返回是false</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;&#125;;</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(alpha <span class="keyword">instanceof</span> <span class="title class_">Person</span>);</span><br></pre></td></tr></table></figure>

<h2 id="2-4-for…in和for…of"><a href="#2-4-for…in和for…of" class="headerlink" title="2.4 for…in和for…of"></a>2.4 for…in和for…of</h2><h3 id="2-4-1-for…in"><a href="#2-4-1-for…in" class="headerlink" title="2.4.1 for…in"></a>2.4.1 for…in</h3><p>用来循环遍历一个对象的全部属性. 注意:</p>
<ul>
<li>遍历的是对象的所有可遍历(<code>enumerable</code>的属性, 会跳过不可遍历的属性).</li>
<li>不仅遍历对象自身的属性, 还遍历继承的属性(所以一般和<code>hasOwnProperty()</code>方法一起使用, 判断属性是自身属性才进行处理).</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> person) &#123;</span><br><span class="line">    <span class="keyword">if</span> (person.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-2-for…of"><a href="#2-4-2-for…of" class="headerlink" title="2.4.2 for…of"></a>2.4.2 for…of</h3><p><code>for...of</code>是ES6中新添加的特性, 只要一个对象具有<code>iterator</code>接口, 那么这个对象就可以使用该方式来循环. 内建库中可以使用该循环的有数组, Set和Map结构, 字符串等. 与<code>for...in</code>不同的是, 它直接获得对象的元素值, 而不是对象的键.</p>
<h1 id="三、常用标准库"><a href="#三、常用标准库" class="headerlink" title="三、常用标准库"></a>三、常用标准库</h1><p>常用标准库的API有非常多, 一般情况下可以在使用到的时候再查看API文档. 这里记录一些开发时比较常用的特性.</p>
<h2 id="3-1-Object"><a href="#3-1-Object" class="headerlink" title="3.1 Object"></a>3.1 Object</h2><p>JavaScript中所有对象都是<code>Object</code>的实例, <strong>意思是说我们所有对象都自动拥有<code>Object.prototype</code>上的属性和方法</strong>.</p>
<h3 id="3-1-1-常用API"><a href="#3-1-1-常用API" class="headerlink" title="3.1.1 常用API"></a>3.1.1 常用API</h3><ul>
<li><code>Object.keys(obj)</code>: 传入一个对象参数, 返回一个数组. <strong>数组的成员是对象自身的属性名(并不包含继承来的)</strong>.</li>
<li><code>Object.getPrototypeOf(obj)</code>: 我们知道每个对象都有一个内部指针, 指向创建它的构造函数或者类的<code>prototype</code>属性指向的对象, 这个方法就是获取对象的内部指针指向的这个对象的.</li>
<li><code>Object.getOwnPropertyDescriptor(obj, propertyKey)</code>: 获取对象指定的属性的描述对象.</li>
<li><code>Object.defineProperty(obj, propertyKey, descriptor)</code>: 使用过描述符为对象定义一个属性, 返回定义完属性的对象.</li>
<li><code>Object.prototype.hasOwnProperty(propertyKey)</code>: 判断当前对象是否拥有某个属性(不包括继承来的).</li>
</ul>
<h3 id="3-1-2-属性描述符对象"><a href="#3-1-2-属性描述符对象" class="headerlink" title="3.1.2 属性描述符对象"></a>3.1.2 属性描述符对象</h3><p>JavaScript中有一个数据结构可以用来描述对象的属性, 控制他的行为. 如该属性的值, 属性是否可写, 是否可遍历等. 我们把这个数据结构叫做属性描述符对象:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Hello World!&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">get</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">set</span>: <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>这里是它们的作用:</p>
<ul>
<li><p><code>value</code>: 这个属性的值. 默认为<code>undefined</code>.</p>
</li>
<li><p><code>writable</code>: 表示属性的值是否可改变. 默认为<code>true</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jeb</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;alpha&#x27;</span>;</span><br><span class="line"><span class="comment">// 还是jeb, 因为writable设置为false了, 表示值不能改变.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>enumerable</code>: 表示属性是否可遍历. 默认为<code>true</code>. 如果设置为<code>false</code>, 那么<code>for...in</code>, <code>Object.keys()</code>, <code>JSON.stringfy()</code>操作就会跳过这个属性.</p>
</li>
<li><p><code>configurable</code>: 阻止对这个属性的一些操作. 如使用<code>delete</code>删除这个属性, 更改这个属性的描述符.(如果不显示设置<code>writable:true</code>连<code>value</code>的值都没办法改变.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="comment">// 如果加上这个设置的话即使是设置了configurable, value的值还是可以变的.</span></span><br><span class="line">    <span class="comment">// writable: true,</span></span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// jeb</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;alpha&#x27;</span>;</span><br><span class="line"><span class="comment">// jeb</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异常, 因为前面没有显示设置writable: true.</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;alpha2j&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>get</code>和<code>set</code>: 属性的取值函数和存值函数. 定义了这两个属性后就不能同时将<code>value</code>属性和将<code>writable</code>设置为<code>true</code>了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;<span class="attr">_name</span>: <span class="string">&#x27;jeb&#x27;</span>&#125;, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_name</span> = <span class="string">&#x27;value by setter: &#x27;</span> + value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其实返回的就是_name的值, 因为我们取值器里面的设置</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">_name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过设值器设置值</span></span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&#x27;alpha&#x27;</span>;</span><br><span class="line"><span class="comment">// 等同于console.log(obj._name);</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2-Array"><a href="#3-2-Array" class="headerlink" title="3.2 Array"></a>3.2 Array</h2><p>JavaScript中的数组都是<code>Array</code>的实例, 常用API如下:</p>
<ul>
<li><p><code>Array.isArray(arr)</code>: 判断一个<code>arr</code>变量是否为数组.</p>
</li>
<li><p><code>Array.prototype.push()</code>, <code>Array.prototype.pop()</code>: 压入数组尾部和从尾部弹出</p>
</li>
<li><p><code>Array.prototype.shift()</code>, <code>Array.prototype.unshift()</code>: 压入数组头部和从头部弹出</p>
</li>
<li><p><code>Array.prototype.join(split)</code>: 使用<code>split</code>参数作为分隔符将成员连接成一个字符串返回.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// 1-2-3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.prototype.concat()</code>: 合并数组并返回, 参数中传入的原数组不变.</p>
</li>
<li><p><code>Array.prototype.reverse()</code>: 反转数组元素的次序(<strong>会改变原数组顺序</strong>).</p>
</li>
<li><p><code>Array.prototype.slice()</code>: 提取数组一部分返回, 原数组不变.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ 3, 4 ]  包括start位置元素, 但是不包括end位置的元素</span></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ 3, 4, 5 ]  只有start则从start(包括start)开始到结束</span></span><br><span class="line">result = arr.<span class="title function_">slice</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.prototype.sort()</code>: 没有参数的话按字典顺序排序. 可以传入一个参数自定义排序规则.</p>
</li>
<li><p><code>Array.prototype.map()</code>: <strong>将数组的所有成员一次传入参数的函数中, 然后将每次的执行结果组成一个新数组返回</strong>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value + <span class="number">100</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// [ 101, 102, 103, 104, 105 ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.prototype.forEach()</code>: 和<code>map</code>操作相似, 对数组的每个成员进行一次操作, 但是不会将每次操作的结果组成新数组返回.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[<span class="subst">$&#123;index&#125;</span>]=<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.prototype.filter()</code>: 用于过滤数组成员, 将满足条件的成员合成一个数组返回.</p>
</li>
<li><p><code>Array.prototype.reduce()</code>: 对于每个数组成员, 将他传入参数函数中进行处理, 处理完后返回一个值, 将这个值当成下个数组成员处理时的参数. 如此循环, 最后一个数组成员处理完后将他的值返回, 作为<code>reduce</code>函数的返回值.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//相当于100 + 1 + 2 + 3 + 4 + 5</span></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">previousValue, currentValue, currentIndex</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">&#125;, <span class="number">100</span>);</span><br><span class="line"><span class="comment">//115</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-3-String"><a href="#3-3-String" class="headerlink" title="3.3 String"></a>3.3 String</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">文档地址</a></p>
<h2 id="3-4-Math"><a href="#3-4-Math" class="headerlink" title="3.4 Math"></a>3.4 Math</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">文档地址</a></p>
<h2 id="3-5-Date"><a href="#3-5-Date" class="headerlink" title="3.5 Date"></a>3.5 Date</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">文档地址</a>, 下面是一些简单的初始化方式:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化方式</span></span><br><span class="line"><span class="comment">// let date = new Date();</span></span><br><span class="line"><span class="comment">// let date = new Date(1546185600000);</span></span><br><span class="line"><span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">2019</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回距离UTC时间的毫秒数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">valueOf</span>());</span><br><span class="line"><span class="comment">//返回格式化后的本地时间</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">toLocaleString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">toLocaleDateString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(date.<span class="title function_">toLocaleTimeString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//还有一些get和set方法</span></span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>

<h2 id="3-6-JSON"><a href="#3-6-JSON" class="headerlink" title="3.6 JSON"></a>3.6 JSON</h2><p>对于JSON, 重要的知识点如下:</p>
<ul>
<li><p>使用<code>JSON.parse()</code>将一个JSON字符串解析为JavaScript对象.</p>
</li>
<li><p>使用<code>JSON.stringfy()</code>将一个JavaScript对象序列化为JSON字符串.</p>
</li>
<li><p>如果想使用<code>JSON.parse()</code>来将一个字符串解析为JavaScript对象, 那么这个字符串的字段名和字符串类型的值类型一定要使用双引号<code>&quot;&quot;</code>, 而不能使用单引号<code>&#39;&#39;</code>, 否则解析引擎无法正常工作.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonStr = <span class="string">&#x27;&#123;\&#x27;name\&#x27;: \&#x27;alpha\&#x27;&#125;&#x27;</span>;</span><br><span class="line"><span class="comment">// 正确的写法, 使用双引号代替字段名和字符串类型值的单引号</span></span><br><span class="line"><span class="comment">// let jsonStr = &#x27;&#123;&quot;name&quot;: &quot;alpha&quot;&#125;&#x27;;</span></span><br><span class="line"><span class="comment">// 解析的时候抛异常了</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonStr);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-7-RegExp"><a href="#3-7-RegExp" class="headerlink" title="3.7 RegExp"></a>3.7 RegExp</h2><h3 id="3-7-1-创建方式"><a href="#3-7-1-创建方式" class="headerlink" title="3.7.1 创建方式"></a>3.7.1 创建方式</h3><p>JavaScript中创建正则表达式的方式有两种:</p>
<ul>
<li><p>字面量, 斜杆开始和结束: <code>let regex = /abc/;</code></p>
</li>
<li><p>使用<code>RegExp</code>构造函数: </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字面量构造方式</span></span><br><span class="line"><span class="comment">// let regexp = /abc/;</span></span><br><span class="line"><span class="comment">// RegExp构造函数构造方式</span></span><br><span class="line"><span class="keyword">let</span> regexp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 还可以接e受第二个参数, 表示修饰符.  等价于 /abc/i</span></span><br><span class="line"><span class="keyword">let</span> regexp1 = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;i&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-7-2-实例属性"><a href="#3-7-2-实例属性" class="headerlink" title="3.7.2 实例属性"></a>3.7.2 实例属性</h3><p>正则对象的实例属性分为两类: 修饰相关属性和修饰无关属性.</p>
<ul>
<li><p>修饰相关: 返回一个布尔值, 表示对应的修饰符是否设置.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里 i, g, m 三个修饰符都设置上了</span></span><br><span class="line"><span class="keyword">let</span> regexp = <span class="regexp">/abc/igm</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexp.<span class="property">ignoreCase</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexp.<span class="property">global</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexp.<span class="property">multiline</span>);</span><br></pre></td></tr></table></figure>

</li>
<li><p>修饰无关:</p>
<ul>
<li><code>RegExp.prototype.lastIndex</code>: 返回一个整数, 表示下一次开始搜索的位置. 属性值可读写, 但是一般在连续搜索的时候才有意义.</li>
<li><code>RegExp.prototype.source</code>: 返回正则表达式的字符串形式(不包括反斜杠).</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里三个修饰符都设置了: i, g, m</span></span><br><span class="line"><span class="keyword">let</span> regexp = <span class="regexp">/abc/igm</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexp.<span class="property">lastIndex</span>);</span><br><span class="line"><span class="comment">// abc</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(regexp.<span class="property">source</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-7-3-实例方法"><a href="#3-7-3-实例方法" class="headerlink" title="3.7.3 实例方法"></a>3.7.3 实例方法</h3><p>对于一个字符串, 使用正则表达式时涉及到的操作无非就两种: 看字符串中是否存在匹配正则表达式的子串, 找出字符串中匹配正则表达式的所有子串.</p>
<ul>
<li><p><code>RegExp.prototype.test</code>: 返回布尔值, 表示参数字符串是否匹配当前正则表达式的模式. 如果使用修饰符<code>g</code>, 那么每次执行<code>test</code>方法都从上次结束的位置开始向后匹配, 可以使用<code>lastIndex</code>属性查看匹配后当前正则对象的指向的位置.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;The harder you work, the more luck you have.&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有使用修饰符g, 每次都是从字符串开始处匹配.</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/the/</span>;</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用了修饰符g, 表示全局搜索, lastIndex的值会改变,</span></span><br><span class="line"><span class="comment">// 每次都从lastIndex的位置开始搜(可以手动改变这个值)</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/the/g</span>;</span><br><span class="line"><span class="comment">// 正则对象开始位置在0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br><span class="line"><span class="comment">// 返回true,</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// 因为使用了修饰符g, 所以lastIndex会保存上次搜索结束后的第一个位置</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br><span class="line"><span class="comment">// false 从上次搜索结束后的第一个位置开始向后搜, 找到字符串尾发现没有就结束</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// 0 现在停在了0的位置, 表示下次从0这个位置开始搜索</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>RegExp.prototype.exec</code>: 如果匹配成功, 返回一个数组, 数组成员包括匹配的子串, 匹配子串的开始index, 原字符串, groups. 如果不匹配则返回<code>null</code>. 注意:</p>
<ul>
<li>如果不使用<code>g</code>修饰符修饰正则表达式表示进行全局匹配, 那么他总是返回参数字符串的第一个匹配子串.</li>
<li>如果使用<code>g</code>修饰符修饰正则表达式表示进行全局匹配, 那么正则对象会从上次匹配成功之后的第一个位置开始匹配子串.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;The harder you work, the more luck you have.&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/the/i</span>;</span><br><span class="line"><span class="keyword">let</span> result;</span><br><span class="line"><span class="comment">// [ &#x27;The&#x27;,</span></span><br><span class="line"><span class="comment">//    index: 0,</span></span><br><span class="line"><span class="comment">//    input: &#x27;The harder you work, the more luck you have.&#x27;,</span></span><br><span class="line"><span class="comment">//    groups: undefined ]</span></span><br><span class="line">result = reg.<span class="title function_">exec</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不是全局匹配, 每次都是从字符串开始进行匹配, 只匹配第一个.</span></span><br><span class="line"><span class="comment">// [ &#x27;The&#x27;,</span></span><br><span class="line"><span class="comment">//    index: 0,</span></span><br><span class="line"><span class="comment">//    input: &#x27;The harder you work, the more luck you have.&#x27;,</span></span><br><span class="line"><span class="comment">//    groups: undefined ]</span></span><br><span class="line">result = reg.<span class="title function_">exec</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/the/ig</span>;</span><br><span class="line"><span class="keyword">let</span> result1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// reg1.lastIndex为0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br><span class="line">result1 = reg1.<span class="title function_">exec</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// reg1.lastIndex为3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br><span class="line">result1 = reg1.<span class="title function_">exec</span>(str);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// reg1.lastIndex为24</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br><span class="line">result1 = reg1.<span class="title function_">exec</span>(str);</span><br><span class="line"><span class="comment">// result 为null 重置lastIndex</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// lastIndex变为0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="property">lastIndex</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-7-4-修饰符"><a href="#3-7-4-修饰符" class="headerlink" title="3.7.4 修饰符"></a>3.7.4 修饰符</h3><ul>
<li><p><code>g</code>修饰符: 对于一个正则表达式, 如果不使用<code>g</code>修饰符, 那么使用这个正则表达式对应的对象来对字符串进行匹配操作的话, 每次都是从字符串的<code>0</code>这个位置开始匹配. 但是如果使用<code>g</code>修饰符的话, 正则对象的<code>lastIndex</code>属性就会改变, 每次对相同或者不同字符串的匹配操作都是根据这个<code>lastIndex</code>属性来确定开始位置的.</p>
</li>
<li><p><code>i</code>操作符: 匹配的时候忽略大小写.</p>
</li>
<li><p><code>m</code>修饰符表示多行模式(multiline), 会修改<code>^</code>和<code>$</code>的行为. 默认情况下(即不加<code>m</code>修饰符时), <code>^</code>和<code>$</code>匹配字符串的开始处和结尾处, 加上<code>m</code>修饰符以后, <code>^</code>和<code>$</code>还会匹配行首和行尾, 即<code>^</code>和<code>$</code>会识别换行符(<code>\n</code>).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/world$/</span>.<span class="title function_">test</span>(<span class="string">&#x27;hello world\n&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/world$/m</span>.<span class="title function_">test</span>(<span class="string">&#x27;hello world\n&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="四、执行环境及作用域"><a href="#四、执行环境及作用域" class="headerlink" title="四、执行环境及作用域"></a>四、执行环境及作用域</h1><h2 id="4-1-执行环境"><a href="#4-1-执行环境" class="headerlink" title="4.1 执行环境"></a>4.1 执行环境</h2><p>JavaScript中执行环境指的是当前代码执行时所在的上下文, 分为全局环境和局部环境. 如果一段代码是在函数中执行的那么我们称这段代码的执行环境为局部环境, 如果是直接在最外部执行的则称这些代码的执行环境为全局环境.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处于全局执行环境</span></span><br><span class="line"><span class="keyword">let</span> globalVariable = <span class="string">&#x27;global variable&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处于全局执行环境</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHelloToMale</span>(<span class="params">age</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处于局部执行环境</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I am going to say hello.&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">        <span class="comment">// 处于局部执行环境</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello boy!&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 处于局部执行环境</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello man!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处于全局执行环境</span></span><br><span class="line"><span class="title function_">sayHelloToMale</span>(<span class="number">11</span>);</span><br></pre></td></tr></table></figure>



<p>​	全局执行环境是最外围的一个执行环境, 运行代码的宿主环境不同那么表示全局执行环境的变量对象就不同. 假如我们的代码是运行在浏览器环境中, 那么与这个全局执行环境对应的变量对象就是<code>window</code>对象, <strong>所有全局变量和函数都是作为<code>window</code>对象的属性和方法创建</strong>. 如果我们代码运行在node环境中, 那么这个全局环境变量对象就是<code>global</code>对象. </p>
<blockquote>
<p>执行环境定义了变量或函数有权访问的其他数据, 决定了他们各自的行为. 每个执行环境都有一个与之关联的<strong>变量对象</strong>, 环境中定义的所有变量和函数都保存在这个对象中.</p>
</blockquote>
<h2 id="4-2-作用域"><a href="#4-2-作用域" class="headerlink" title="4.2 作用域"></a>4.2 作用域</h2><p>​	变量能够在什么范围内被访问, 这里的范围我们就叫做作用域. 在JavaScript中有三种作用域: 全局作用域, 函数作用域, 块级作用域(ES6新增).</p>
<ul>
<li>如果一个变量在整个应用中都能被访问到, 那么我们就说这个变量处于全局作用域中, 是一个全局变量.</li>
<li>如果一个变量只能在当前的函数中访问到, 那么我们就说这个变量处于函数作用域中, 是一个局部变量.</li>
<li>如果一个变量只能在当前代码块中访问到, 那么我们就说这个变量处于块级作用域中, 是一个局部变量.</li>
</ul>
<h3 id="4-2-1-全局作用域"><a href="#4-2-1-全局作用域" class="headerlink" title="4.2.1 全局作用域"></a>4.2.1 全局作用域</h3><p>​	如果一个变量是在全局执行环境中声明的, 那么这个变量处于全局作用域中, 是一个全局变量, 在任何地方都能访问到. 比如我们在浏览器的<code>console</code>中直接声明变量, 那么这些变量就是全局变量, 因为声明变量的代码没有被任何函数包裹起来, 是执行在全局环境中的. 或者我们新建一个<code>test.js</code>文件, 然后在里面输入前面控制台相同的内容, 那执行这个文件的代码的时候和控制台直接输入是一样的, 都是跑在全局环境中. </p>
<p>​	需要注意的一点是: 如果一个变量并不是在全局环境中声明的, 而是在局部环境中, 但是声明变量的时候并没有使用变量声明符号,  那这个变量也是全局变量(<strong>这个直接忽略吧, 我们声明变量肯定要带上<code>var</code>, <code>let</code>或者<code>const</code>这些声明符的. 而且一定要带, 不带的话也是自己挖坑</strong>).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// f12 打开控制台</span></span><br><span class="line"><span class="comment">// 或者新建一个js文件</span></span><br><span class="line"><span class="comment">// 直接输入 </span></span><br><span class="line"><span class="comment">// 因为是在全局环境中, 所以是全局变量</span></span><br><span class="line"><span class="keyword">let</span> globalVariable = <span class="string">&#x27;hello world!&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 访问的是全局变量</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(globalVariable);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;hello world!&#x27;</span></span><br><span class="line"><span class="title function_">sayHello</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不使用声明符号, 也是全局变量</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">globalVariable</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 没有使用变量声明符号, 虽然他是在globalVariable函数的局部环境中声明的</span></span><br><span class="line">    <span class="comment">// 但是它还是变成了全局变量</span></span><br><span class="line">    glo = <span class="string">&#x27;hello world!&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">globalVariable</span>();</span><br><span class="line"><span class="comment">// glo是一个全局变量, 这里正常输出值</span></span><br><span class="line"><span class="comment">// &#x27;hello world!&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(glo);</span><br></pre></td></tr></table></figure>

<h3 id="4-2-2-函数作用域"><a href="#4-2-2-函数作用域" class="headerlink" title="4.2.2 函数作用域"></a>4.2.2 函数作用域</h3><p>​	如果一个变量是处于函数作用域中的, 那么这个变量只能在这个函数的内部执行环境中被访问到. 在JavaScript中声明一个变量的时候如果想让他处于函数作用域, 那么使用<code>var</code>关键字.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">funcScope</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// 在局部环境中使用var声明的变量属于函数作用域</span></span><br><span class="line">        <span class="keyword">var</span> variable = <span class="string">&#x27;hello world!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 正常输出</span></span><br><span class="line">    <span class="comment">// &#x27;hello world!&#x27;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(variable);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">funcScope</span>();</span><br></pre></td></tr></table></figure>

<h3 id="4-2-3-块级作用域"><a href="#4-2-3-块级作用域" class="headerlink" title="4.2.3 块级作用域"></a>4.2.3 块级作用域</h3><p>如果一个变量是属于块级作用域的, 那么只有在当前代码块中<code>&#123;&#125;</code>才有能力访问到这个变量, 在JavaScript中使用<code>let</code>和<code>const</code>声明的变量都属于块级作用域.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">funcScope</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="comment">// 在局部环境中使用var声明的变量属于函数作用域</span></span><br><span class="line">        <span class="keyword">let</span> variable = <span class="string">&#x27;hello world!&#x27;</span>;</span><br><span class="line">        <span class="keyword">const</span> constant = <span class="string">&#x27;hello jeb!&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 还是在变量定义的代码块中, 可以访问到</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;In sub block, variable: &#x27;</span>, variable);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;In sub block, constant: &#x27;</span>, constant);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 已经不在变量声明的代码块中, 无法访问到这些块级作用域变量.</span></span><br><span class="line">    <span class="comment">// 编译报错, ReferenceError</span></span><br><span class="line">    <span class="comment">// console.log(variable);</span></span><br><span class="line">    <span class="comment">// console.log(constant);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">funcScope</span>();</span><br></pre></td></tr></table></figure>

<h1 id="五、闭包"><a href="#五、闭包" class="headerlink" title="五、闭包"></a>五、闭包</h1><p><strong>闭包是指有权访问另一个函数作用域中的变量的函数</strong>. 创建闭包的方式就是在一个函数内部创建另一个函数, 这个被创建的函数引用创建它的函数内部的变量.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCounter</span>(<span class="params">initial</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="comment">// 保存了对外面函数的局部变量initial的引用</span></span><br><span class="line">        <span class="keyword">return</span> initial + value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> counter = <span class="title function_">createCounter</span>(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">counter</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">counter</span>(<span class="number">10</span>));</span><br></pre></td></tr></table></figure>



<p>闭包的最大用处有两个: 一个是可以读取函数内部的变量, 另一个就是让这些变量始终保持在内存中, 即闭包可以使得它诞生环境一直存在.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createIncrementer</span>(<span class="params">start</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> start++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过闭包, start的状态被保留了.</span></span><br><span class="line"><span class="keyword">let</span> incrementer = <span class="title function_">createIncrementer</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">incrementer</span>()); <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">incrementer</span>()); <span class="comment">// 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">incrementer</span>()); <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>

<h1 id="六、原型"><a href="#六、原型" class="headerlink" title="六、原型"></a>六、原型</h1><h2 id="6-1-基本概念-原理及重要特性"><a href="#6-1-基本概念-原理及重要特性" class="headerlink" title="6.1 基本概念, 原理及重要特性"></a>6.1 基本概念, 原理及重要特性</h2><p>​	原型这块是比较重要的, 理解这些知识点对实际开发的帮助非常大. 关于JavaScript中的原型这部分内容, 需要重点理解原型概念, 原型链原理, 还有JavaScript在对象上搜寻属性的工作方式.</p>
<ul>
<li><p>原型的概念: JavaScript中构造函数有一个属性<code>prototype</code>, 他指向一个对象. 当使用构造函数实例化一个对象的时候, 实例化出来的对象会有一个内部指针指向构造函数的<code>prototype</code>属性指向的对象, 这时候我们把这个<code>prototype</code>属性指向的对象称为构造函数实例的原型. </p>
</li>
<li><p>原型链原理: 因为原型也是一个对象, 他也会有一个内部指针, 指向实例化它的构造函数的<code>prototype</code>属性指向的原型对象, 这个原型对象又有一个内部指针指向另一个原型对象, 层层递进直到<code>Object.prototype</code>, 而<code>Object.prototype</code>指向的对象的原型对象为<code>null</code>, 到这里就不会再有原型的指向了, 我们把这个链中涉及到的原型对象称为原型链.</p>
</li>
<li><p>在对象上搜寻属性的工作方式: 当我们调用某个对象的属性或方法时, 如<code>person.sayHello()</code>, JavaScript引擎会先在查找对象自身的属性, 如果找不到, 那么会到这个对象的原型上面去找, 如果还是找不到就继续到原型的原型上去找, 沿着原型链一直往上走, 直到最顶层的<code>Object.prototype</code>, 如果还是没有找到就返回<code>undefined</code>.</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">MyArray</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyArray</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"><span class="title class_">MyArray</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">MyArray</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myArray = <span class="keyword">new</span> <span class="title class_">MyArray</span>();</span><br><span class="line">myArray.<span class="title function_">push</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myArray.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的原型链为:</span></span><br><span class="line"><span class="comment">// 1. myArray的原型为MyArray.prototype, MyArray.prototype = new Array(), 因此第一个原型指向:</span></span><br><span class="line"><span class="comment">// myArray._pro -&gt; new Array();</span></span><br><span class="line"><span class="comment">// 2. 因为new Array()出来的对象有一个内部指针指向Array.prototype: (new Array())._pro -&gt; Array.prototype, 所以:</span></span><br><span class="line"><span class="comment">// myArray._pro -&gt; new Array(), (new Array())._pro -&gt; Array.prototype</span></span><br><span class="line"><span class="comment">// 3. Array.prototype也是一个对象, 这个对象也有原型对象, 它有一个内部指针指向Object.prototype: Array.prototype._pro -&gt; Object.prototype</span></span><br><span class="line"><span class="comment">// myArray._pro -&gt; new Array(), (new Array())._pro -&gt; Array.prototype, Array.prototype._pro -&gt; Object.prototype</span></span><br><span class="line"><span class="comment">// 4. Object.prototype原型也是一个对象, 但是这个原型对象的内部指针指向了null: Object.prototype._pro -&gt; null, 所以原型链终止.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 因此整个原型链为</span></span><br><span class="line"><span class="comment">// myArray._pro -&gt; new Array(), (new Array())._pro -&gt; Array.prototype, Array.prototype._pro -&gt; Object.prototype, Object.prototype._pro -&gt; null</span></span><br><span class="line"><span class="comment">// 当在myArray上调用一个属性或者方法的时候, 在整个原型链上的搜索顺序为:</span></span><br><span class="line"><span class="comment">// 现在myArray这个对象上找, 如果没有在myArray._pro上找, 也就是new Array()上, 沿着链走, 当走到最尾发现原型对象为null的时候就停止搜索.</span></span><br></pre></td></tr></table></figure>

<h2 id="6-2-constructor属性"><a href="#6-2-constructor属性" class="headerlink" title="6.2 constructor属性"></a>6.2 constructor属性</h2><p><code>prototype</code>对象有一个<code>constructor</code>属性, 他默认指向<code>prototype</code>对象所在的构造函数:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Person</span>);</span><br></pre></td></tr></table></figure>



<p>对于<code>constructor</code>属性, 有一下几个需要注意的:</p>
<ul>
<li><p>可以使用<code>constructor</code>属性从一个实例对象创建另一个实例.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Person</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> alpha = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="keyword">let</span> jeb = <span class="keyword">new</span> alpha.<span class="title function_">constructor</span>(<span class="params"></span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果手动修改原型对象, 那么一般会同时修改<code>constructor</code>属性, 防止引用的时候出错.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Person</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Person</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Object</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="七、this关键字"><a href="#七、this关键字" class="headerlink" title="七、this关键字"></a>七、this关键字</h1><h2 id="7-1-this详解"><a href="#7-1-this详解" class="headerlink" title="7.1 this详解"></a>7.1 this详解</h2><p>在JavaScript中<code>this</code>关键字是非常重要的, 而且也是非常容易搞混的. 如果没有深入去学习, 那么在实际开发的时候一不小心就<code>undefined</code>, 一不小心就<code>ReferenceError</code>, 很容易掉坑. 要深入理解<code>tihs</code>的作用, 那么需要总结<code>this</code>能在哪些地方使用:</p>
<ul>
<li><p>在全局环境中使用<code>this</code>: 如果是浏览器环境, 那么他指向的是<code>window</code>对象. 如果是在node环境, 那么他指向的是一个新的对象(注意并不是<code>global</code>对象).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;alpha&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 浏览器环境: window</span></span><br><span class="line"><span class="comment">// alpha</span></span><br><span class="line"><span class="comment">// console.log(this.name);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// node环境: 一个新的对象</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;alpha&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在函数中使用<code>this</code>:</p>
<ul>
<li><p>当这个函数被当做构造函数来用时(使用<code>new</code>运算符时), <code>this</code>指向的是即将在构造函数中返回的那个对象.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jeb&#x27;</span>);</span><br><span class="line"><span class="comment">// jeb</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);</span><br><span class="line"><span class="comment">// jeb</span></span><br><span class="line">person.<span class="title function_">sayName</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>当一个函数被当做对象的方法来使用时(<code>obj.method</code>), 函数里面的<code>this</code>就指向调用他的<code>obj</code>对象. 但是<strong>注意方法是可以被赋值的, 如果一个方法被赋给了一个变量, 那这时候<code>this</code>的指向就改变了</strong>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jeb&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> sayNameGlobal = person.<span class="property">sayName</span>;</span><br><span class="line"><span class="comment">// 因为在全局环境执行这个函数, this并不是指向person对象</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="title function_">sayNameGlobal</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newPerson = &#123;<span class="attr">name</span>: <span class="string">&#x27;alpha&#x27;</span>&#125;;</span><br><span class="line">newPerson.<span class="property">sayName</span> = person.<span class="property">sayName</span>;</span><br><span class="line"><span class="comment">// 在newPerson上调用这个函数, 所以现在在sayName里面的this指向的是newPerson这个对象</span></span><br><span class="line"><span class="comment">// alpha</span></span><br><span class="line">newPerson.<span class="title function_">sayName</span>();</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>在多层嵌套的函数中使用<code>this</code>: </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayNameAndSayNameAgain</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// this指向调用这个方法的对象</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line">        (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// this指向全局对象</span></span><br><span class="line">            <span class="comment">// undefined</span></span><br><span class="line">            <span class="comment">// console.log(this.name);</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line"></span><br><span class="line">            (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// this指向全局对象</span></span><br><span class="line">                <span class="comment">// undefined</span></span><br><span class="line">                <span class="comment">// console.log(this.name);</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">            &#125;());</span><br><span class="line">        &#125;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> jeb = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jeb&#x27;</span>);</span><br><span class="line">jeb.<span class="title function_">sayNameAndSayNameAgain</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>在ES6类的方法上使用<code>this</code>: 看<code>ES6.md</code>.</p>
</li>
</ul>
<h2 id="7-2-绑定this方法"><a href="#7-2-绑定this方法" class="headerlink" title="7.2 绑定this方法"></a>7.2 绑定this方法</h2><p><code>this</code>可以动态进行切换, 但是提供灵活的同时给编程带来了困难和模糊. JavaScript提供了<code>call</code>, <code>apply</code>, <code>bind</code>三个方法, 来切换&#x2F;固定<code>this</code>的指向.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// call</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">n</span>: <span class="number">456</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">var1, var2</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">n</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">call</span>(obj, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 456</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// apply: 和call一样, 但是参数的接收方式为数组.</span></span><br><span class="line"><span class="comment">// a.apply(obj, [1, 2]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bind: 用于将函数体内的this绑定到某个对象, 然后返回一个新函数.</span></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">d.<span class="title function_">getTime</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> print = d.<span class="property">getTime</span>.<span class="title function_">bind</span>(&#123;&#125;);</span><br><span class="line"><span class="comment">// 执行绑定this之后的新函数.</span></span><br><span class="line"><span class="title function_">print</span>();</span><br></pre></td></tr></table></figure>

<h1 id="八、错误处理"><a href="#八、错误处理" class="headerlink" title="八、错误处理"></a>八、错误处理</h1><h2 id="8-1-错误类型"><a href="#8-1-错误类型" class="headerlink" title="8.1 错误类型"></a>8.1 错误类型</h2><p>​	JavaScript中<code>Error</code>是最基本的错误类型, 在它的基础上, 还定义了其他几种错误类型. 在开发中可能会偶尔看到运行环境抛出的错误, 如果对它们不熟悉则很多时候是一头雾水.</p>
<ul>
<li><p><code>SyntaxError</code>: 表示解析代码时发生语法错误.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 变量名错误</span></span><br><span class="line"><span class="keyword">var</span> 1a;</span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Invalid or unexpected token</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 缺少括号</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span> <span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Unexpected string</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>ReferenceError</code>: 引用一个不存在的变量.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name根本没有定义就引用了</span></span><br><span class="line"><span class="comment">// ReferenceError: name is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>RangeError</code>: 值超出了有效范围: 为数组赋负数值等.</p>
</li>
<li><p><code>TypeError</code>: 变量或参数不是预期类型时发生的错误, 比如对字符串, 布尔值, 数值等原始类型使用<code>new</code>命令. <code>let obj = &#123;&#125;; obj.unknownMethod()</code> 这样也会抛出这个异常. 因为<code>obj.unknownMethod</code>的值是<code>undefined</code>, 而不是一个函数.</p>
</li>
<li><p><code>URIError</code>: uri相关函数的参数不正确时抛出的错误, 主要涉及<code>encodeURI()</code>, <code>decodeURI()</code>, <code>encodeURIComponent()</code>, <code>decodeURIComponent()</code>, <code>escape()</code>和<code>unescape()</code>这六个函数.</p>
</li>
<li><p><code>EvalError</code>: <code>eval</code>函数没有被正确执行时抛出的错误.</p>
</li>
</ul>
<h2 id="8-2-try…catch和throw"><a href="#8-2-try…catch和throw" class="headerlink" title="8.2 try…catch和throw"></a>8.2 try…catch和throw</h2><p>和Java一样, 在JavaScript中也是使用<code>try...catch</code>来捕获错误, 使用<code>throw</code>来抛出错误的.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="comment">// 这里会由执行引擎抛出异常</span></span><br><span class="line">    obj.<span class="title function_">unknownMethod</span>();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="comment">// 这里捕获了异常并输出</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">message</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 这里使用throw抛出我们自己的异常</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;error throw by myself.&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-3-自定义错误"><a href="#8-3-自定义错误" class="headerlink" title="8.3 自定义错误"></a>8.3 自定义错误</h2><p>JavaScript中是使用<code>throw</code>来抛出错误的, 他不像Java那样抛出的异常必须是继承自某个类, 而是可以<code>throw</code>任意类型, 但是强迫症晚期是不会抛出任意类型的. 约定抛出的错误都继承自<code>Error</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">EntityNotFoundException</span>(<span class="params">message</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">message</span> = message;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">EntityNotFoundException</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Error</span>();</span><br><span class="line"><span class="title class_">EntityNotFoundException</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">EntityNotFoundException</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">EntityNotFoundException</span>(<span class="string">&#x27;Id为5的实体找不到.&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">message</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="九、其他"><a href="#九、其他" class="headerlink" title="九、其他"></a>九、其他</h1><h2 id="9-1-官方文档地址"><a href="#9-1-官方文档地址" class="headerlink" title="9.1 官方文档地址"></a>9.1 官方文档地址</h2><p>一般查看API或者看一些相关的guide都是在MDN上看, <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">地址</a>. 在左边bar的References里面能够查看许多API.</p>
<h2 id="9-2-console"><a href="#9-2-console" class="headerlink" title="9.2 console"></a>9.2 console</h2><p>在代码中我们可以使用<code>console</code>对象来向控制台输出信息, 常用的是<code>console.log()</code>. 在这个api中可以传入多个参数, 参数参数之间用逗号隔开, 当参数是对象的时候, 他会将对象的属性也打印出来. 当接盘侠的时候这是个非常有用的东西. 像一个Node项目如果不支持IDE的debug的话只能一点一点地<code>console.log()</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jeb = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jeb&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">22</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the detail of jeb:  &#123; name: &#x27;jeb&#x27;, age: 22 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;the detail of jeb: &#x27;</span>, jeb);</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果使用+号, 那么直接调用jeb对象的toString() 方法, 这个方法定义在Object.prototype上</span></span><br><span class="line"><span class="comment">//the detail of jeb: [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;the detail of jeb: &#x27;</span> + jeb);</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://alpha2j.cn">Jeb</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://alpha2j.cn/2020/07/17/undefined/">https://alpha2j.cn/2020/07/17/undefined/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://alpha2j.cn" target="_blank">杰布是谁</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/notes/">notes</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post_share"><div class="social-share" data-image="/assets/blog_avatar.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/07/19/undefined/" title="ES6"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ES6</div></div></a></div><div class="next-post pull-right"><a href="/2020/06/24/undefined/" title="正则表达式"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">正则表达式</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/07/19/undefined/" title="ES6"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-20</div><div class="title">ES6</div></div></a></div><div><a href="/2020/05/27/undefined/" title="Docker"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-28</div><div class="title">Docker</div></div></a></div><div><a href="/2020/05/29/undefined/" title="Git"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-30</div><div class="title">Git</div></div></a></div><div><a href="/2020/06/24/undefined/" title="正则表达式"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-25</div><div class="title">正则表达式</div></div></a></div><div><a href="/2021/04/22/undefined/" title="MySQL知识点总结"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-23</div><div class="title">MySQL知识点总结</div></div></a></div><div><a href="/2021/08/20/undefined/" title="Redis知识点总结"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-21</div><div class="title">Redis知识点总结</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/assets/blog_avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jeb</div><div class="author-info__description">即使天还没亮，固执做梦的人，身前会有光！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Alpha2J"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Alpha2J" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:jeb.wannng@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">一、语言基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.1.3 操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4-%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.1.4 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E6%95%B0%E7%BB%84"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%84%E9%80%A0"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.4.1 对象的构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-2-%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.4.2 对象的访问</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E5%85%B6%E4%BB%96"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-1-%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">1.5.1.</span> <span class="toc-text">1.5.1 变量提升</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-2-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.</span> <span class="toc-text">1.5.2 箭头函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%98%93%E6%B7%B7%E6%B7%86%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">二、易混淆知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-amp-amp-%E5%92%8C"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 &amp;&amp;和||</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-undefined%E5%92%8Cnull"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 undefined和null</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-typeof%E5%92%8Cinstanceof"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 typeof和instanceof</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-typeof"><span class="toc-number">2.3.1.</span> <span class="toc-text">2.3.1 typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-instanceof"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.3.2 instanceof</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-for%E2%80%A6in%E5%92%8Cfor%E2%80%A6of"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 for…in和for…of</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-for%E2%80%A6in"><span class="toc-number">2.4.1.</span> <span class="toc-text">2.4.1 for…in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-for%E2%80%A6of"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.4.2 for…of</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">三、常用标准库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Object"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 Object</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-%E5%B8%B8%E7%94%A8API"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 常用API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 属性描述符对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Array"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 Array</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-String"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-Math"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 Math</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-Date"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 Date</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-JSON"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-RegExp"><span class="toc-number">3.7.</span> <span class="toc-text">3.7 RegExp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-1-%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">3.7.1.</span> <span class="toc-text">3.7.1 创建方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-2-%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">3.7.2.</span> <span class="toc-text">3.7.2 实例属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-3-%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">3.7.3.</span> <span class="toc-text">3.7.3 实例方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-4-%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.7.4.</span> <span class="toc-text">3.7.4 修饰符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83%E5%8F%8A%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.</span> <span class="toc-text">四、执行环境及作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 执行环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.2.1.</span> <span class="toc-text">4.2.1 全局作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.2.2.</span> <span class="toc-text">4.2.2 函数作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">4.2.3.</span> <span class="toc-text">4.2.3 块级作用域</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%97%AD%E5%8C%85"><span class="toc-number">5.</span> <span class="toc-text">五、闭包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%8E%9F%E5%9E%8B"><span class="toc-number">6.</span> <span class="toc-text">六、原型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-%E5%8E%9F%E7%90%86%E5%8F%8A%E9%87%8D%E8%A6%81%E7%89%B9%E6%80%A7"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 基本概念, 原理及重要特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-constructor%E5%B1%9E%E6%80%A7"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 constructor属性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81this%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">7.</span> <span class="toc-text">七、this关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-this%E8%AF%A6%E8%A7%A3"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 this详解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E7%BB%91%E5%AE%9Athis%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 绑定this方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">8.</span> <span class="toc-text">八、错误处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E9%94%99%E8%AF%AF%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.1.</span> <span class="toc-text">8.1 错误类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-try%E2%80%A6catch%E5%92%8Cthrow"><span class="toc-number">8.2.</span> <span class="toc-text">8.2 try…catch和throw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%94%99%E8%AF%AF"><span class="toc-number">8.3.</span> <span class="toc-text">8.3 自定义错误</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%85%B6%E4%BB%96"><span class="toc-number">9.</span> <span class="toc-text">九、其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E5%9C%B0%E5%9D%80"><span class="toc-number">9.1.</span> <span class="toc-text">9.1 官方文档地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-console"><span class="toc-number">9.2.</span> <span class="toc-text">9.2 console</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/17/undefined/" title="使用bitcoinjs-lib进行比特币的转账">使用bitcoinjs-lib进行比特币的转账</a><time datetime="2023-12-17T16:00:00.000Z" title="发表于 2023-12-18 00:00:00">2023-12-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/06/the-syllabus/" title="Tuesday with Morrie Chapter2 The Syllabus">Tuesday with Morrie Chapter2 The Syllabus</a><time datetime="2023-08-06T16:00:00.000Z" title="发表于 2023-08-07 00:00:00">2023-08-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/04/the-curriculum/" title="Tuesday with Morrie Chapter1 The Curriculum">Tuesday with Morrie Chapter1 The Curriculum</a><time datetime="2023-08-04T16:00:00.000Z" title="发表于 2023-08-05 00:00:00">2023-08-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/25/undefined/" title="如何创建自己的maven archetype">如何创建自己的maven archetype</a><time datetime="2023-07-25T16:00:00.000Z" title="发表于 2023-07-26 00:00:00">2023-07-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/07/undefined/" title="maven核心概念的一次探索">maven核心概念的一次探索</a><time datetime="2023-07-07T16:00:00.000Z" title="发表于 2023-07-08 00:00:00">2023-07-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Jeb</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="60198" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>